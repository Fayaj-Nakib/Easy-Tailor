{% extends 'base.html' %}
{% block content %}
<h2>My Profile</h2>
{% if request.GET.edit %}
  <form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <button class="btn btn-primary" type="submit">Save</button>
    <a class="btn btn-secondary" href="{% url 'profile' %}">Cancel</a>
  </form>
{% else %}
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">{{ request.user.get_full_name|default:request.user.username }}</h5>
      <p class="card-text"><strong>Email:</strong> {{ request.user.email }}</p>
      <p class="card-text"><strong>Phone:</strong> {{ request.user.phone }}</p>
      <p class="card-text"><strong>Address:</strong> {{ request.user.address }}</p>
      {% if request.user.role == 'tailor' %}
        <p class="card-text"><strong>Shop:</strong> {{ request.user.shop_name|default:'-' }}</p>
      {% endif %}
      <!-- <p class="card-text"><strong>Default Size:</strong> {{ request.user.default_regular_size|default:'-' }}</p>
      <p class="card-text"><strong>Default Measurements:</strong><br>{{ request.user.default_custom_measurements|linebreaksbr }}</p> -->
      <a class="btn btn-primary" href="?edit=1">Edit</a>
      <a class="btn btn-secondary" href="{% url 'logout' %}">Logout</a>
    </div>
  </div>
{% endif %}
{% endblock %}

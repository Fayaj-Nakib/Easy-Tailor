{% extends 'base.html' %}
{% block content %}
<div class="container py-5">
  <div class="row justify-content-center align-items-center mb-5">
    <div class="col-md-7 text-center">
      <h1 class="display-5 fw-bold">EasyTailor</h1>
      <p class="lead mb-4">Smart tailoring orders, clear measurements, instant tracking, and easy payment – all in one place.</p>
      {% if not request.user.is_authenticated %}
      <a href="/users/login/" class="btn btn-primary btn-lg px-4 me-2">Login</a>
      <a href="/users/register/" class="btn btn-outline-primary btn-lg px-4">Register</a>
      {% endif %}
    </div>
  </div>

  {% if request.user.is_authenticated %}
  <div class="row g-4 justify-content-center mb-5">
    <div class="col-12 col-md-4">
      <div class="card shadow h-100 hover-shadow">
        <div class="card-body text-center">
          <div class="mb-3"><i class="bi bi-list-task display-5 text-primary"></i></div>
          <h5 class="card-title">Orders</h5>
          <p class="card-text">View all your orders, status, and payment – always in control.</p>
          <a href="/orders/" class="stretched-link"></a>
        </div>
      </div>
    </div>
    {% if request.user.role == 'customer' %}
    <div class="col-12 col-md-4">
      <div class="card shadow h-100 hover-shadow">
        <div class="card-body text-center">
          <div class="mb-3"><i class="bi bi-plus-circle display-5 text-success"></i></div>
          <h5 class="card-title">Place New Order</h5>
          <p class="card-text">Start an order, add measurement/items and select tailor easily.</p>
          <a href="/orders/add/" class="stretched-link"></a>
        </div>
      </div>
    </div>
    {% endif %}
    {% if request.user.role == 'tailor' %}
    <div class="col-12 col-md-4">
      <div class="card shadow h-100 hover-shadow">
        <div class="card-body text-center">
          <div class="mb-3"><i class="bi bi-scissors display-5 text-warning"></i></div>
          <h5 class="card-title">Manage Services</h5>
          <p class="card-text">Edit offered services, prices, item types & more.</p>
          <a href="/services/" class="stretched-link"></a>
        </div>
      </div>
    </div>
    {% endif %}
    <div class="col-12 col-md-4">
      <div class="card shadow h-100 hover-shadow">
        <div class="card-body text-center">
          <div class="mb-3"><i class="bi bi-person-circle display-5 text-info"></i></div>
          <h5 class="card-title">Profile</h5>
          <p class="card-text">Update your contact, measurement preferences, and tailor info.</p>
          <a href="/users/profile/" class="stretched-link"></a>
        </div>
      </div>
    </div>
  </div>
  {% endif %}

  <section class="my-5">
    <h2 class="text-center mb-4">How it Works</h2>
    <div class="row g-4 justify-content-center align-items-center">
      <div class="col-12 col-sm-6 col-md-3 text-center">
        <i class="bi bi-person-plus display-4 text-primary mb-2"></i>
        <h6>1. Register/Login</h6>
        <p class="small">Create an account as Customer or Tailor. Provide details for seamless communication.</p>
      </div>
      <div class="col-12 col-sm-6 col-md-3 text-center">
        <i class="bi bi-rulers display-4 text-success mb-2"></i>
        <h6>2. Add Items & Measurements</h6>
        <p class="small">For every order, specify type, garment(s), measurements or use saved ones.</p>
      </div>
      <div class="col-12 col-sm-6 col-md-3 text-center">
        <i class="bi bi-scissors display-4 text-warning mb-2"></i>
        <h6>3. Tailor Confirms</h6>
        <p class="small">Tailor reviews, sets discounts (if any), and confirms or rejects based on availability.</p>
      </div>
      <div class="col-12 col-sm-6 col-md-3 text-center">
        <i class="bi bi-cash-coin display-4 text-info mb-2"></i>
        <h6>4. Pay and Track</h6>
        <p class="small">Pay online or later, and track your order – all from one dashboard.</p>
      </div>
    </div>
  </section>
</div>
<footer class="footer mt-auto py-4 bg-dark text-white-50">
  <div class="container text-center">
    <span>&copy; {{ year|default:2025 }} EasyTailor. All rights reserved.</span>
  </div>
</footer>
<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<style>
  .hover-shadow:hover { box-shadow: 0 0.7rem 1.3rem rgba(38,50,56,.13) !important; }
  body { background: #f8fafc; }
  .footer { font-size: 0.97rem; border-top: 1px solid #333; }
  .card { border-radius: 1rem; }
</style>
{% endblock %}
